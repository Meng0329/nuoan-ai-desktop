# è¯ºå®‰AIæ¡Œé¢ç¨‹åº

## ğŸ“¦ å®‰è£…åŒ…æ„å»ºå®Œæˆï¼

### ğŸ‰ æ„å»ºç»“æœ
- **å¯æ‰§è¡Œæ–‡ä»¶**: `dist/è¯ºå®‰AIæ¡Œé¢ç¨‹åº-win32-x64/è¯ºå®‰AIæ¡Œé¢ç¨‹åº.exe`
- **å‹ç¼©åŒ…**: `dist/è¯ºå®‰AIæ¡Œé¢ç¨‹åº-v1.0.0.zip`
- **æ–‡ä»¶å¤§å°**: çº¦ 165MB (åŒ…å«æ‰€æœ‰ä¾èµ–)

### ğŸš€ ä½¿ç”¨æ–¹æ³•

#### 1. ä¸‹è½½å®‰è£…åŒ…
è®¿é—®åç«¯APIè·å–ä¸‹è½½é“¾æ¥ï¼š
```
http://localhost:5000/api/desktop/download-info
```

#### 2. è§£å‹è¿è¡Œ
1. ä¸‹è½½ `è¯ºå®‰AIæ¡Œé¢ç¨‹åº-v1.0.0.zip`
2. è§£å‹åˆ°ä»»æ„ç›®å½•
3. åŒå‡»è¿è¡Œ `è¯ºå®‰AIæ¡Œé¢ç¨‹åº.exe`

#### 3. é¦–æ¬¡ä½¿ç”¨
1. ç¨‹åºä¼šè‡ªåŠ¨è·å–ç¡¬ä»¶å”¯ä¸€ID
2. ç‚¹å‡»"è®¾å¤‡è®¤è¯"æŒ‰é’®è¿›è¡Œè®¤è¯
3. è®¤è¯æˆåŠŸåä¼šè‡ªåŠ¨å¼€å§‹å®šæ—¶éªŒè¯

### ğŸ”§ åŠŸèƒ½ç‰¹æ€§

- âœ… **è‡ªåŠ¨ç¡¬ä»¶IDè·å–**: åŸºäºCPUã€ç¡¬ç›˜ã€ä¸»æ¿ã€ç½‘å¡ä¿¡æ¯ç”Ÿæˆå”¯ä¸€ID
- âœ… **å®šæ—¶éªŒè¯**: æ¯5åˆ†é’Ÿè‡ªåŠ¨éªŒè¯è®¾å¤‡çŠ¶æ€
- âœ… **ç”¨æˆ·è®¤è¯**: JWTä»¤ç‰Œè®¤è¯æœºåˆ¶
- âœ… **çŠ¶æ€ç›‘æ§**: å®æ—¶æ˜¾ç¤ºè¿æ¥çŠ¶æ€å’Œç”¨æˆ·ä¿¡æ¯
- âœ… **æ•°æ®æŒä¹…åŒ–**: è‡ªåŠ¨ä¿å­˜è®¤è¯ä¿¡æ¯ï¼Œé‡å¯åæ— éœ€é‡æ–°è®¤è¯
- âœ… **ç°ä»£åŒ–ç•Œé¢**: ç¾è§‚çš„ç”¨æˆ·ç•Œé¢è®¾è®¡

### ğŸ› ï¸ å¼€å‘ä¿¡æ¯

#### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Electron 27.3.11
- **è¯­è¨€**: JavaScript/HTML/CSS
- **ç¡¬ä»¶ä¿¡æ¯**: systeminformation åº“
- **ç½‘ç»œé€šä¿¡**: axios
- **æ•°æ®å­˜å‚¨**: electron-store

#### æ„å»ºå‘½ä»¤
```bash
# å¼€å‘æ¨¡å¼
npm start

# æ„å»ºWindowsç‰ˆæœ¬
npx electron-packager . "è¯ºå®‰AIæ¡Œé¢ç¨‹åº" --platform=win32 --arch=x64 --out=dist --overwrite

# åˆ›å»ºå‹ç¼©åŒ…
Compress-Archive -Path "dist\è¯ºå®‰AIæ¡Œé¢ç¨‹åº-win32-x64" -DestinationPath "dist\è¯ºå®‰AIæ¡Œé¢ç¨‹åº-v1.0.0.zip" -Force
```

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows 10/11 (64ä½)
- **å†…å­˜**: è‡³å°‘ 4GB RAM
- **å­˜å‚¨ç©ºé—´**: è‡³å°‘ 500MB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: éœ€è¦è¿æ¥äº’è”ç½‘è¿›è¡Œè®¤è¯

### ğŸ”— ç›¸å…³é“¾æ¥

- **åç«¯API**: http://localhost:5000/api
- **Webå‰ç«¯**: http://localhost:3000
- **ä¸‹è½½é¡µé¢**: http://localhost:5000/api/desktop/download/windows

### ğŸ“ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡è¿è¡Œ**: å¯èƒ½éœ€è¦å…è®¸é˜²ç«å¢™è®¿é—®
2. **ç¡¬ä»¶ID**: æ¯ä¸ªè®¾å¤‡ç”Ÿæˆçš„ç¡¬ä»¶IDæ˜¯å”¯ä¸€çš„ï¼Œä¸å¯æ›´æ”¹
3. **è®¤è¯çŠ¶æ€**: ç¨‹åºä¼šè‡ªåŠ¨ä¿å­˜è®¤è¯çŠ¶æ€ï¼Œæ— éœ€é‡å¤è®¤è¯
4. **ç½‘ç»œè¿æ¥**: éœ€è¦ä¿æŒç½‘ç»œè¿æ¥ä»¥è¿›è¡Œå®šæ—¶éªŒè¯

### ğŸ› æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜
1. **ç¨‹åºæ— æ³•å¯åŠ¨**: æ£€æŸ¥æ˜¯å¦è¢«æ€æ¯’è½¯ä»¶æ‹¦æˆª
2. **è®¤è¯å¤±è´¥**: æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
3. **ç¡¬ä»¶IDè·å–å¤±è´¥**: æ£€æŸ¥ç³»ç»Ÿæƒé™

#### æ—¥å¿—æŸ¥çœ‹
ç¨‹åºè¿è¡Œæ—¶ä¼šè¾“å‡ºè¯¦ç»†æ—¥å¿—ï¼Œå¯é€šè¿‡å¼€å‘è€…å·¥å…·æŸ¥çœ‹ï¼š
```bash
npm run dev  # å¼€å‘æ¨¡å¼ä¼šæ˜¾ç¤ºæ§åˆ¶å°
```

## Windows æ‰“åŒ…å›¾æ ‡

ä½¿ç”¨ `assets/logo.jpg` ç”Ÿæˆ Windows å¯æ‰§è¡Œæ–‡ä»¶å›¾æ ‡ï¼š

```bash
npm run build:icon
npm run build:win
```

å¦‚æœªå®‰è£…ä¾èµ–ï¼Œè¯·å…ˆæ‰§è¡Œï¼š

```bash
npm install
```

## Windows å®‰è£…åŒ…æ„å»ºï¼ˆNSISï¼‰

ç”Ÿæˆå®‰è£…åŒ…ï¼ˆ.exe å®‰è£…å™¨ï¼‰ï¼Œç”¨æˆ·å¯ç›´æ¥å®‰è£…ï¼š

```bash
npm run build:win-installer
Set-Location -LiteralPath 'D:\é¡¹ç›®\è¯ºå®‰ai\server\desktop'; npm install --no-audit --no-fund --loglevel=error; npm run build:icon; node build-no-sign.js
```

è¾“å‡ºä½ç½®åœ¨ `desktop/dist/`ï¼Œæ–‡ä»¶åå½¢å¦‚ï¼š`è¯ºå®‰AIæ¡Œé¢ç¨‹åº-Setup-1.0.0-x64.exe`ã€‚

---

**ç‰ˆæœ¬**: v1.0.0  
**æ„å»ºæ—¶é—´**: 2024å¹´1æœˆ  
**å¼€å‘è€…**: è¯ºå®‰AIå›¢é˜Ÿ 

## è‡ªåŠ¨æ›´æ–°ï¼ˆelectron-updaterï¼‰

- æ„å»ºæ—¶ä¼šç”Ÿæˆç”¨äºè‡ªåŠ¨æ›´æ–°çš„äº§ç‰©ï¼š
  - Windows NSISï¼š`latest.yml`ã€å®‰è£…åŒ… `.exe`
- éƒ¨ç½²ï¼šå°† `dist/latest.yml` ä¸å¯¹åº” `.exe` ä¸Šä¼ è‡³
  `https://nuoanai.com/desktop/updates/`ï¼ˆæˆ–è®¾ç½® `NUOAN_UPDATER_URL` ç¯å¢ƒå˜é‡è¦†ç›–ï¼‰
- åº”ç”¨å¯åŠ¨åä¼šè‡ªåŠ¨æ£€æŸ¥æ›´æ–°ï¼Œå¹¶åœ¨ä¸‹è½½å®Œæˆåæç¤ºå®‰è£…ã€‚

å¯é€‰ï¼šæ¸²æŸ“è¿›ç¨‹æ‰‹åŠ¨è§¦å‘æ£€æŸ¥
```js
const { ipcRenderer } = require('electron')
// æ£€æŸ¥æ›´æ–°
ipcRenderer.invoke('updater-check')
// ç›‘å¬è¿›åº¦/çŠ¶æ€
ipcRenderer.on('updater:event', (_e, payload) => {
  console.log('update event', payload)
})
// ä¸‹è½½å®Œæˆåå®‰è£…
ipcRenderer.invoke('updater-quit-and-install')
``` 